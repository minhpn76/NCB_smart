<div>
    <app-page-header [heading]="'Phân quyền'" [heading_second]="'Sửa phân quyền'" [url_heading]="'/decen'"> </app-page-header>
    <div class="row mt-10">
        <div class="col-md-12">
            <div *ngIf="isProcessLoad == 1" class="text-center col-md-12">
                <span><i class="fa fa-spin fa-spinner font-30"></i></span>
            </div>
            <div *ngIf="totalSearch == 0 && isProcessLoad == 0" class="text-center col-md-12">
                <span>Không tìm thấy kết quả</span>
            </div>
            <div class="col-md-12" *ngIf="totalSearch > 0">
                <div class="row">
                    <label for="search" class="col-sm-4 col-form-label">Tên phân quyền(<span class="text-danger">*</span>):</label>
                    <div class="col-md-6">
                        <input
                            [(ngModel)]="roleName"
                            class="form-control col-lg-12"
                            placeholder="Tên phân quyền"
                        />
                    </div>
                </div>
                <div class="row mt-3">
                    <label for="search" class="col-sm-4 col-form-label">Mô tả phân quyền(<span class="text-danger">*</span>):</label>
                    <div class="col-md-6">
                        <input
                            [(ngModel)]="briefDescription"
                            class="form-control col-lg-12"
                            placeholder="Mô tả phân quyền"
                        />
                    </div>
                </div>
                <div class="row mt-3">
                    <label for="search" class="col-sm-4 col-form-label">Trạng thái(<span class="text-danger">*</span>):</label>
                    <div class="col-md-6">
                        <select class="form-control" [(ngModel)]="status" name="status">
                            <option *ngFor="let status of listStatus" [value]="status.code" selected="selected">{{ status.name }}</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-12 mt-3 custom-check table-responsive">
                    <table class="table table-bordered">
                        <tbody>
                            <tr *ngFor="let role of listRoles">
                                <th scope="row">
                                    <div class="custom-control form-control-lg custom-checkbox" data-toggle="tooltip" data-placement="top" title="Tooltip on top">
                                        <input 
                                            type="checkbox" class="custom-control-input" 
                                            id="{{role.code}}" 
                                            type="checkbox" 
                                            [checked]="role.isAll"
                                            (click)="clickFullRoles($event)"
                                        >
                                        <label class="custom-control-label" style="font-size: 17px" for="{{role.code}}"><b class="text-blue">{{ role.name }}</b></label>
                                    </div>
                                </th>
                                <td>
                                    <div class="custom-control form-control-lg custom-checkbox">
                                        <input 
                                            type="checkbox" class="custom-control-input" 
                                            id="add_{{role.code}}" 
                                            [checked]="role.isC"
                                            (click)="clickSetRole($event, 1)"
                                            type="checkbox" 
                                        >
                                        <label class="custom-control-label" style="font-size: 17px" for="add_{{role.code}}">CREATE {{ role.code }}</label>
                                    </div>
                                </td>
                                <td>
                                    <div class="custom-control form-control-lg custom-checkbox">
                                        <input 
                                            class="custom-control-input" 
                                            id="read_{{role.code}}" 
                                            type="checkbox"
                                            (click)="clickSetRole($event, 2)"
                                            [checked]="role.isR"
                                        >
                                        <label class="custom-control-label" style="font-size: 17px" for="read_{{role.code}}">READ {{ role.code }}</label>
                                    </div>
                                </td>
                                <td>
                                    <div class="custom-control form-control-lg custom-checkbox">
                                        <input 
                                            class="custom-control-input" 
                                            id="update_{{role.code}}" 
                                            type="checkbox"
                                            (click)="clickSetRole($event, 3)"
                                            [checked]="role.isU"
                                        >
                                        <label class="custom-control-label" style="font-size: 17px" for="update_{{role.code}}">UPDATE {{ role.code }}</label>
                                    </div>
                                </td>
                                <td>
                                    <div class="custom-control form-control-lg custom-checkbox">
                                        <input 
                                            class="custom-control-input" 
                                            id="delete_{{role.code}}" 
                                            type="checkbox"
                                            (click)="clickSetRole($event, 4)"
                                            [checked]="role.isD"
                                        >
                                        <label class="custom-control-label" style="font-size: 17px" for="delete_{{role.code}}">DELETE {{ role.code }}</label>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="row text-center" *ngIf="totalSearch > 0" style="margin-top: 10px;">
        <div class="col-md-12">
            <button class="btn btn-primary mr-3" (click)="onSubmitRole()">Lưu lại</button>
            <button class="btn btn-default" (click)="resetForm()">Huỷ</button>
        </div>
    </div>
    
</div>